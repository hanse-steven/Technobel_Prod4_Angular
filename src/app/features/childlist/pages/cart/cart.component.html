<section class="row mx-auto mt-3">
    <h2 class="col-md-12 mb-4">Panier</h2>

    <article class="my-3 border border-3 border-black">
        <div class="m-3 mx-1 p-4 border border-3 border-black">
            @for (item of cartItems; track item.childlistitem_id) {
                <div class="row flex-wrap gap-4 flex-md-nowrap gap-md-0 ">
                    <div class="col-md-2 d-flex justify-content-center" style="height: 200px">
                        <img [src]="item.image" class="img-fluid img-thumbnail object-fit-contain">
                    </div>
                    <div class="col-md-9">
                        <div class="card-body d-flex flex-column h-100">
                            <h5 class="card-title">{{ item.name }}</h5>
                            <h6 class="card-subtitle mb-2 text-body-secondary">{{ item.price | currency }}</h6>
                            <p class="card-text text-wrap">{{ item.description }} </p>
                            <p class="card-text mt-auto"><small class="text-body-secondary">Liste de {{item.childlist?.firstname | titlecase}} {{item.childlist?.lastname | titlecase}}</small></p>
                        </div>
                    </div>
                    <div class="col-md-1 d-grid">
                        <button class="btn btn-outline-danger" (click)="deleteItem(item.childlistitem_id)">
                            <fa-icon [icon]="faTrash"></fa-icon>
                        </button>
                    </div>
                </div>
                <hr>
            }

            @if (cartItems.length === 0) {
                <p class="text-center m-0">Votre panier est vide</p>
            }
            @else {
                <div class="d-grid">
                    <button class="btn btn-primary" (click)="buy()">
                        <fa-icon [icon]="faCartShopping"></fa-icon>
                        Payer
                    </button>
                </div>
            }
        </div>
    </article>
</section>
